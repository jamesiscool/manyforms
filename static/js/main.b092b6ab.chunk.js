(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(21),l=n.n(r),c=n(40),o=function(e){return i.a.createElement("div",{id:e.fieldPath+"_description",className:"pt-2 text-muted description"},e.text)},u=n(16),d=n(8),s=n(14),m=n(9),f=n(15),b=n(5);var h=Object(b.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(d.a)(t,2),i=n[0],r=n[1];return{formValues:i,setValue:function(e,t){var n=Object(s.a)(i,function(n){Object(f.a)(n,e,t)});r(n)},getValue:function(e){return Object(m.a)(i,e)},addToCollection:function(e){var t=Object(s.a)(i,function(t){var n=Object(m.a)(t,e,[]),a=[].concat(Object(u.a)(n),[{}]);console.log("newCollection:",a),Object(f.a)(t,e,a)});r(t)},deleteFromCollection:function(e,t){var n=Object(s.a)(i,function(n){var a=Object(m.a)(n,e),i=[].concat(Object(u.a)(a.slice(0,t)),Object(u.a)(a.slice(t+1)));Object(f.a)(n,e,i)});r(n)},getCollectionSize:function(e){var t=Object(m.a)(i,e);return t?t.length:0}}}),p=n(23),v=n.n(p),E=n(24),g=n.n(E),P=n(25),N=n.n(P),O=n(26),j=n.n(O),y=n(27),C=n.n(y),x={email:{validate:function(e){return j()(e)},defaultMessage:"Please enter a email address"},alpha:{validate:function(e){return v()(e)},defaultMessage:"Please enter only letters"},numeric:{validate:function(e){return C()(e)},defaultMessage:"Please enter only numbers"},alphanumeric:{validate:function(e){return g()(e)},defaultMessage:"Please enter only letters and numbers"},currency:{validate:function(e){return N()(e)},defaultMessage:"Please enter a currency amount"}};var k=Object(b.a)(function(){var e=Object(b.b)(h);return{validate:function(t,n){if(n.validation){var a=e.getValue(t);if(n.validation.required&&(!a||a.length<=0))return"This field is required";if(n.validation.rules){var i=n.validation.rules.find(function(e){return!x[e.name].validate(a)});if(i)return i.message||x[i.name].defaultMessage}}}}}),F=function(e){return i.a.createElement("label",{htmlFor:e.htmlFor,className:"mr-2 h5 "+(e.error?"text-danger":"")},e.text)},w=function(e){var t=Object(b.b)(k).validate(e.fieldPath,e.def);return i.a.createElement("div",{className:"form-group py-2"},e.def.attributes.label&&i.a.createElement(F,{htmlFor:e.fieldPath,text:e.def.attributes.label,error:!!t}),e.children,e.def.attributes.description&&i.a.createElement(o,{fieldPath:e.fieldPath,text:e.def.attributes.description}),t&&i.a.createElement("div",{className:"text-danger pt-2"},t))},T={accordion:function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(0),r=Object(d.a)(n,2),l=r[0],c=r[1],o=0===l,u=l===e.definition.children.length-1,s=function(e){console.log("goToPage:",e),c(e),t&&t.current&&window.scroll({top:t.current.getBoundingClientRect().top-100})};return i.a.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.definition.children.map(function(n,a){return i.a.createElement("div",{className:"card",key:e.fieldPath+"_PAGE_"+a},l===a&&i.a.createElement("div",{ref:t}),i.a.createElement("div",{className:"card-header cursor-pointer",onClick:function(){return s(a)}},i.a.createElement("h3",{className:"d-inline"},n.attributes.label),a<l&&i.a.createElement("button",{className:"link-button text-muted px-1",onClick:function(){return s(a)}},i.a.createElement("u",null,"edit"))),l===a&&i.a.createElement("div",{className:"card-body m-1"},n.children&&i.a.createElement(V,{childFormElements:n.children,parentFieldPath:e.parentFieldPath}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("nav",{"aria-label":"Page navigation example"},i.a.createElement("ul",{className:"pagination mb-0"},!o&&i.a.createElement("li",{className:"page-item"},i.a.createElement("button",{className:"page-link text-primary",onClick:function(){return s(l-1)}},"Previous")),!u&&i.a.createElement("li",{className:"page-item"},i.a.createElement("button",{className:"page-link text-primary",onClick:function(){return s(l+1)}},"Next"))))),u&&i.a.createElement("div",{className:"col"},i.a.createElement("button",{className:"btn btn-primary float-right",onClick:function(){return console.log("Submit")}},"Submit")))))}))},dropdown:function(e){var t=h.useContainer();return i.a.createElement(w,{fieldPath:e.fieldPath,def:e.definition},i.a.createElement("select",{className:"form-control custom-select",id:e.definition.fieldId,value:t.getValue(e.fieldPath)||"",onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)},"aria-describedby":e.definition.fieldId+"_description"},i.a.createElement("option",{value:"",disabled:e.definition.validation&&e.definition.validation.required}),e.definition.attributes.options.map(function(e){return i.a.createElement("option",{value:e,key:e},e)})))},textInput:function(e){var t=h.useContainer();return i.a.createElement(w,{fieldPath:e.fieldPath,def:e.definition},i.a.createElement("input",{type:"text",className:"form-control",id:e.definition.fieldId,"aria-describedby":e.fieldPath+"_description",value:t.getValue(e.fieldPath)||"",onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)}}))},heading:function(e){return i.a.createElement("h"+e.definition.attributes.level,null,e.definition.attributes.text)},paragraph:function(e){return i.a.createElement("p",null,e.definition.attributes.text)},buttonGroup:function(e){var t=h.useContainer(),n=t.getValue(e.fieldPath),r=Object(a.useState)(null),l=Object(d.a)(r,2),c=l[0],o=l[1];return i.a.createElement(w,{fieldPath:e.fieldPath,def:e.definition},i.a.createElement("div",{className:"btn-group-wrapper"},i.a.createElement("div",{className:"btn-group btn-group-toggle"},e.definition.attributes.options.map(function(a,r){return i.a.createElement("label",{className:"btn btn-outline-secondary"+(n===a?" active":"")+(c===r?" focus":""),key:e.fieldPath+"_OPTION_"+a,onFocus:function(){return o(r)},onBlur:function(){return o(null)}},i.a.createElement("input",{type:"radio",value:a,checked:a===n,onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)}}),a)}))))},list:function(e){var t=h.useContainer();return i.a.createElement("div",{className:"form-group"},i.a.createElement("span",{className:"h4 align-middle mr-2"},e.definition.attributes.label),e.definition.attributes.description&&i.a.createElement(o,{fieldPath:e.fieldPath,text:e.definition.attributes.description}),Object(c.a)(t.getCollectionSize(e.fieldPath),function(n){return i.a.createElement("div",{className:"card border-bottom mb-3"+(0===n?" mt-2":""),key:e.fieldPath+"_COLLECTION_"+n},i.a.createElement("h5",{className:"card-header"},function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(n+1)," ",e.definition.attributes.itemLabel,i.a.createElement("button",{className:"close text-dark",onClick:function(){return t.deleteFromCollection(e.fieldPath,n)}},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"card-body pb-0"},e.definition.children&&i.a.createElement(V,{childFormElements:e.definition.children,parentFieldPath:e.fieldPath+"["+n+"]"})))}),i.a.createElement("button",{className:"btn btn-secondary d-inline",onClick:function(){return t.addToCollection(e.fieldPath)}},"Add"))}},V=function(e){return i.a.createElement("div",null,e.childFormElements.map(function(t,n){var a,r,l=function(e){var t=T[e];return t||(console.warn("Could not find form element type:"+e),function(){return i.a.createElement("div",null,"Could not find form element type ",e,".")})}(t.type);return i.a.createElement(l,{definition:t,parentFieldPath:e.parentFieldPath,fieldPath:(a=e.parentFieldPath,r=t.fieldId,r?""!==a?a+"."+r:r:a),key:e.parentFieldPath+"_"+n})}))},_=function(e){return i.a.createElement("div",{className:"p-2 container"},i.a.createElement(h.Provider,null,i.a.createElement(k.Provider,null,i.a.createElement(V,{childFormElements:e.formDef.elements,parentFieldPath:""}))))};n(37);fetch("exampleFormDefinition.json").then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}).then(function(e){l.a.render(i.a.createElement(_,{formDef:e}),document.getElementById("form"))})}},[[28,1,2]]]);
//# sourceMappingURL=main.b092b6ab.chunk.js.map