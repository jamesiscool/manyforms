(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(76)},75:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n.n(a),i=n(0),c=n.n(i),o=n(36),l=n.n(o),u=function(e,t){return t?""!==e?e+"."+t:t:e},s=n(78),d=n(1),f=function(e){return c.a.createElement("div",{id:e.path+"_description",className:"pt-2 text-muted description"},e.text)},m=n(20),b=n(3),v=n(5),h=n(14),p=n(19);var E=Object(d.a)(function(){var e=Object(i.useState)({}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=function(e,t){var r=Object(v.a)(n,function(n){var a=n[e]||{};a[t]||(a[t]=Date.now()),n[e]=a});a(r)};return{fieldStates:n,get:function(e){return n[e]||{}},focus:function(e){return r(e,"focus")},valueChanged:function(e){return r(e,"valueChanged")},blur:function(e){return r(e,"blur")}}});var g=Object(d.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(d.b)(E),n=Object(i.useState)(e),a=Object(b.a)(n,2),r=a[0],c=a[1];return{formValues:r,setValue:function(e,n){var a=Object(v.a)(r,function(t){Object(p.a)(t,e,n)});c(a),t.valueChanged(e)},getValue:function(e){return Object(h.a)(r,e)},addToCollection:function(e){var t=Object(v.a)(r,function(t){var n=Object(h.a)(t,e,[]),a=[].concat(Object(m.a)(n),[{}]);Object(p.a)(t,e,a)});c(t)},deleteFromCollection:function(e,t){var n=Object(v.a)(r,function(n){var a=Object(h.a)(n,e),r=[].concat(Object(m.a)(a.slice(0,t)),Object(m.a)(a.slice(t+1)));Object(p.a)(n,e,r)});c(n)},getCollectionSize:function(e){var t=Object(h.a)(r,e);return t?t.length:0}}});var O=n(38),j=n.n(O),C=n(39),N=n.n(C),w=n(40),y=n.n(w),x=n(41),k=n.n(x),P=n(42),S=n.n(P),D={email:{validate:function(e){return k()(e)},defaultMessage:"Please enter a email address"},alpha:{validate:function(e){return j()(e)},defaultMessage:"Please enter only letters"},numeric:{validate:function(e){return S()(e)},defaultMessage:"Please enter only numbers"},alphanumeric:{validate:function(e){return N()(e)},defaultMessage:"Please enter only letters and numbers"},currency:{validate:function(e){return y()(e)},defaultMessage:"Please enter a currency amount"}},F={showErrors:"immediately",showErrorsDelay:0,disableNextWhenErrors:!1},V=Object(d.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{config:Object.assign(F,e)}}),T=n(11),_=n.n(T);_.a.addTransform("toUpperCase",function(e){return e.toUpperCase()}),_.a.addTransform("toLowerCase",function(e){return e.toLowerCase()}),_.a.addBinaryOp("_=",20,function(e,t){return e.toLowerCase()===t.toLowerCase()});var I=Object(d.a)(function(){var e=Object(d.b)(V).config,t=Object(d.b)(g);return{evaluate:function(n,a,r){console.log("expression:",r);var i={formValues:t.formValues,value:t.getValue(n),config:e,fieldDef:a};return console.log("expression:",r,"context:",i,"outcome",_.a.evalSync(r,i)),_.a.evalSync(r,i)}}});var B=Object(d.a)(function(){var e=Object(i.useState)({}),t=Object(b.a)(e,2),n=t[0],a=t[1];return{formState:n,nextClicked:function(){var e=Object(v.a)(n,function(e){e.nextClicked||(e.nextClicked=Date.now())});a(e)},clearNextClicked:function(){var e=Object(v.a)(n,function(e){e.nextClicked=void 0});a(e)},submitClicked:function(){var e=Object(v.a)(n,function(e){e.submitClicked||(e.submitClicked=Date.now())});a(e)},nextOrSubmit:function(){return!!n.nextClicked||!!n.submitClicked}}});var L=Object(d.a)(function(){var e=Object(d.b)(V).config,t=Object(d.b)(g),n=Object(d.b)(E),a=Object(d.b)(B),r=Object(d.b)(I),c=Object(i.useState)(0),o=Object(b.a)(c,2),l=o[0],s=o[1];Object(i.useEffect)(function(){l>Date.now()&&setTimeout(function(){return s(0)},l-Date.now())},[l]);var f=function(e,n){if(!n.validation)return null;var a=t.getValue(e);return n.validation.required&&(!a||a.length<=0)?"This field is required":(console.log("fieldDef.validation",n.validation),n.validation.constraints?n.validation.constraints.reduce(function(t,i){return t||function(e,t,n,a){if(function(e){return void 0!==e.name}(e)){var i=D[e.name];return i.validate(a)?null:e.message||i.defaultMessage}return r.evaluate(t,n,e.expression)?null:e.message}(i,e,n,a)},null):null)},m=function(t,r){if(a.nextOrSubmit()||"immediately"===e.showErrors)return!0;var i=n.get(t);return"afterFocus"===e.showErrors&&i.focus?v(i.focus):"afterValueChanged"===e.showErrors&&i.valueChanged?v(i.valueChanged):!("afterBlur"!==e.showErrors||!i.blur)&&v(i.valueChanged)},v=function(t){return!e.showErrorsDelay||0===e.showErrorsDelay||t+e.showErrorsDelay<Date.now()||(s(t+e.showErrorsDelay),!1)};return{validate:f,shouldShowErrors:m,validateAndShouldShow:function(e,t){return m(e,t)?f(e,t):null},validateRecursively:function e(n,a){return!!a&&(!!f(n,a)||!!a.children&&a.children.some(function(a){var r,i=u(n,a.fieldId);if(r=a.type,G.hasOwnProperty(r)){for(var c=t.getCollectionSize(i),o=0;o<c;o++)if(e(i+"["+o+"]",a))return!0;return!1}return e(i,a)}))}}}),M=function(e){return c.a.createElement("label",{htmlFor:e.htmlFor,className:"mr-2 h5 "+(e.error?"text-danger":"")},e.text)},A=function(e){var t=Object(d.b)(L).validateAndShouldShow(e.path,e.def);return c.a.createElement("div",{className:"form-group py-2"},e.def.attributes.label&&c.a.createElement(M,{htmlFor:e.path,text:e.def.attributes.label,error:!!t}),e.children,t&&c.a.createElement("div",{className:"error-message text-danger pt-2"},t),e.def.attributes.description&&c.a.createElement(f,{path:e.path,text:e.def.attributes.description}))},R=n(43),q=n.n(R),z={accordion:function(e){var t=Object(d.b)(V).config,n=Object(d.b)(L),a=Object(d.b)(B),r=Object(i.useRef)(null),o=Object(i.useState)(0),l=Object(b.a)(o,2),u=l[0],s=l[1];if(!e.definition.children)return null;var f=0===u,m=u===e.definition.children.length-1,v=n.validateRecursively(e.path,e.definition.children[u]),h=t.disableNextWhenErrors&&v,p=function(e){s(e),r&&r.current&&window.scroll({top:r.current.getBoundingClientRect().top-100})},E=function(){p(u-1),a.clearNextClicked()},g=function(){v?a.nextClicked():(a.clearNextClicked(),p(u+1))},O=function(){v?a.submitClicked():console.log("Submit")};return c.a.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.definition.children.map(function(t,n){return c.a.createElement("div",{className:"card",key:e.path+"_PAGE_"+n},u===n&&c.a.createElement("div",{ref:r}),c.a.createElement("div",{className:"card-header cursor-pointer",onClick:function(){return p(n)}},c.a.createElement("h3",{className:"d-inline"},t.attributes.label),n<u&&c.a.createElement("button",{className:"link-button text-muted px-1",onClick:function(){return p(n)}},c.a.createElement("u",null,"edit"))),u===n&&c.a.createElement("div",{className:"card-body m-1"},t.children&&c.a.createElement(U,{childFormElements:t.children,parentPath:e.parentPath}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("nav",{"aria-label":"Page navigation"},c.a.createElement("ul",{className:"pagination mb-0"},!f&&c.a.createElement("li",{className:"page-item"},c.a.createElement("button",{className:"page-link",onClick:E},"Previous")),!m&&c.a.createElement("li",{className:q()("page-item",{disabled:h})},c.a.createElement("button",{className:"page-link",onClick:g,disabled:h},"Next"))))),m&&c.a.createElement("div",{className:"col"},c.a.createElement("button",{className:"btn btn-primary float-right",onClick:O},"Submit")))))}))},dropdown:function(e){var t=Object(d.b)(g),n=Object(d.b)(E);return c.a.createElement(A,{path:e.path,def:e.definition},c.a.createElement("select",{className:"form-control custom-select",id:e.definition.fieldId,value:t.getValue(e.path)||"",onChange:function(n){return t.setValue(e.path,n.currentTarget.value)},"aria-describedby":e.definition.fieldId+"_description",onFocus:function(){return n.focus(e.path)},onBlur:function(){return n.blur(e.path)}},c.a.createElement("option",{value:"",disabled:e.definition.validation&&e.definition.validation.required}),e.definition.attributes.options.map(function(e){return c.a.createElement("option",{value:e,key:e},e)})))},textInput:function(e){var t=Object(d.b)(g),n=Object(d.b)(E);return c.a.createElement(A,{path:e.path,def:e.definition},c.a.createElement("input",{type:"text",className:"form-control",id:e.definition.fieldId,"aria-describedby":e.path+"_description",value:t.getValue(e.path)||"",onChange:function(n){return t.setValue(e.path,n.currentTarget.value)},onFocus:function(){return n.focus(e.path)},onBlur:function(){return n.blur(e.path)}}))},heading:function(e){return c.a.createElement("h"+e.definition.attributes.level,null,e.definition.attributes.text)},paragraph:function(e){return c.a.createElement("p",null,e.definition.attributes.text)},buttonGroup:function(e){var t=Object(d.b)(g),n=Object(d.b)(E),a=t.getValue(e.path),r=Object(i.useState)(null),o=Object(b.a)(r,2),l=o[0],u=o[1];return c.a.createElement(A,{path:e.path,def:e.definition},c.a.createElement("div",{className:"btn-group-wrapper",onFocus:function(){return n.focus(e.path)},onBlur:function(){return n.blur(e.path)}},c.a.createElement("div",{className:"btn-group btn-group-toggle"},e.definition.attributes.options.map(function(n,r){return c.a.createElement("label",{className:"btn btn-outline-secondary"+(a===n?" active":"")+(l===r?" focus":""),key:e.path+"_OPTION_"+n,onFocus:function(){return u(r)},onBlur:function(){return u(null)}},c.a.createElement("input",{type:"radio",value:n,checked:n===a,onChange:function(n){return t.setValue(e.path,n.currentTarget.value)}}),n)}))))}},G={list:function(e){var t=Object(d.b)(g);return c.a.createElement("div",{className:"form-group"},c.a.createElement("span",{className:"h4 align-middle mr-2"},e.definition.attributes.label),e.definition.attributes.description&&c.a.createElement(f,{path:e.path,text:e.definition.attributes.description}),Object(s.a)(t.getCollectionSize(e.path),function(n){return c.a.createElement("div",{className:"card border-bottom mb-3"+(0===n?" mt-2":""),key:e.path+"_COLLECTION_"+n},c.a.createElement("h5",{className:"card-header"},function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(n+1)," ",e.definition.attributes.itemLabel,c.a.createElement("button",{className:"close text-dark",onClick:function(){return t.deleteFromCollection(e.path,n)}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"card-body pb-0"},e.definition.children&&c.a.createElement(U,{childFormElements:e.definition.children,parentPath:e.path+"["+n+"]"})))}),c.a.createElement("button",{className:"btn btn-secondary d-inline",onClick:function(){return t.addToCollection(e.path)}},"Add"))}},J=Object.assign(z,G);var U=function(e){return c.a.createElement("div",null,e.childFormElements.map(function(t,n){var a=function(e){var t=J[e];return t||(console.warn("Could not find form element type:"+e),function(){return c.a.createElement("div",null,"Could not find form element type ",e,".")})}(t.type);return c.a.createElement(a,{definition:t,parentPath:e.parentPath,path:u(e.parentPath,t.fieldId),key:e.parentPath+"_"+n})}))},W=function(e){return c.a.createElement("div",{className:"p-2 container"},c.a.createElement(V.Provider,{initialState:e.formDef.config},c.a.createElement(B.Provider,null,c.a.createElement(E.Provider,null,c.a.createElement(g.Provider,null,c.a.createElement(I.Provider,null,c.a.createElement(L.Provider,null,c.a.createElement(U,{childFormElements:e.formDef.elements,parentPath:""}))))))))};n(75);r.a.get("exampleFormDefinition.json").then(function(e){l.a.render(c.a.createElement(W,{formDef:e.data}),document.getElementById("form"))}).catch(function(e){throw console.error(e),new Error(e)})}},[[44,1,2]]]);
//# sourceMappingURL=main.f8463e53.chunk.js.map