(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(87)},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),l=n.n(i),c=function(e,t){return t?""!==e?e+"."+t:t:e},o=n(26),u=n(1),d=function(e){return r.a.createElement("div",{id:e.fieldPath+"_description",className:"pt-2 text-muted description"},e.text)},s=n(10),f=n(3),m=n(8),b=n(4),h=n.n(b),v=n(9),p=n.n(v);var E=Object(u.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(f.a)(t,2),r=n[0],i=n[1];return{formValues:r,setValue:function(e,t){var n=Object(m.a)(r,function(n){p()(n,e,t)});i(n)},getValue:function(e){return h()(r,e)},addToCollection:function(e){var t=Object(m.a)(r,function(t){var n=h()(t,e,[]),a=[].concat(Object(s.a)(n),[{}]);p()(t,e,a)});i(t)},deleteFromCollection:function(e,t){var n=Object(m.a)(r,function(n){var a=h()(n,e),r=[].concat(Object(s.a)(a.slice(0,t)),Object(s.a)(a.slice(t+1)));p()(n,e,r)});i(n)},getCollectionSize:function(e){var t=h()(r,e);return t?t.length:0}}}),g=n(27),P=n.n(g),N=n(28),O=n.n(N),y=n(29),j=n.n(y),C=n(30),k=n.n(C),x=n(31),F=n.n(x),w={email:{validate:function(e){return k()(e)},defaultMessage:"Please enter a email address"},alpha:{validate:function(e){return P()(e)},defaultMessage:"Please enter only letters"},numeric:{validate:function(e){return F()(e)},defaultMessage:"Please enter only numbers"},alphanumeric:{validate:function(e){return O()(e)},defaultMessage:"Please enter only letters and numbers"},currency:{validate:function(e){return j()(e)},defaultMessage:"Please enter a currency amount"}};var V=Object(u.a)(function(){var e=Object(u.b)(E);function t(t,n){if(n.validation){var a=e.getValue(t);if(n.validation.required&&(!a||a.length<=0))return"This field is required";if(n.validation.rules){var r=n.validation.rules.find(function(e){return!w[e.name].validate(a)});if(r)return r.message||w[r.name].defaultMessage}}}return{validate:t,hasErrorsRecursively:function n(a,r){return!!r&&(!!t(a,r)||!!r.children&&r.children.some(function(t){var r,i=c(a,t.fieldId);if(r=t.type,R.hasOwnProperty(r)){for(var l=e.getCollectionSize(i),o=0;o<l;o++)if(n(i+"["+o+"]",t))return!0;return!1}return n(i,t)}))}}}),_=function(e){return r.a.createElement("label",{htmlFor:e.htmlFor,className:"mr-2 h5 "+(e.error?"text-danger":"")},e.text)},I=function(e){var t=Object(u.b)(V).validate(e.fieldPath,e.def);return r.a.createElement("div",{className:"form-group py-2"},e.def.attributes.label&&r.a.createElement(_,{htmlFor:e.fieldPath,text:e.def.attributes.label,error:!!t}),e.children,t&&r.a.createElement("div",{className:"error-message text-danger pt-2"},t),e.def.attributes.description&&r.a.createElement(d,{fieldPath:e.fieldPath,text:e.def.attributes.description}))},T=n(32),S=n.n(T),M={accordion:function(e){var t=Object(a.useRef)(null),n=Object(a.useState)(2),i=Object(f.a)(n,2),l=i[0],c=i[1],o=Object(u.b)(V);if(!e.definition.children)return null;var d=0===l,s=l===e.definition.children.length-1,m=o.hasErrorsRecursively(e.fieldPath,e.definition.children[l]),b=function(e){c(e),t&&t.current&&window.scroll({top:t.current.getBoundingClientRect().top-100})};return r.a.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.definition.children.map(function(n,a){return r.a.createElement("div",{className:"card",key:e.fieldPath+"_PAGE_"+a},l===a&&r.a.createElement("div",{ref:t}),r.a.createElement("div",{className:"card-header cursor-pointer",onClick:function(){return b(a)}},r.a.createElement("h3",{className:"d-inline"},n.attributes.label),a<l&&r.a.createElement("button",{className:"link-button text-muted px-1",onClick:function(){return b(a)}},r.a.createElement("u",null,"edit"))),l===a&&r.a.createElement("div",{className:"card-body m-1"},n.children&&r.a.createElement(z,{childFormElements:n.children,parentFieldPath:e.parentFieldPath}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("nav",{"aria-label":"Page navigation"},r.a.createElement("ul",{className:"pagination mb-0"},!d&&r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return b(l-1)}},"Previous")),!s&&r.a.createElement("li",{className:S()("page-item",{disabled:m})},r.a.createElement("button",{className:"page-link",onClick:function(){return b(l+1)},disabled:m},"Next"))))),s&&r.a.createElement("div",{className:"col"},r.a.createElement("button",{className:"btn btn-primary float-right",onClick:function(){return console.log("Submit")}},"Submit")))))}))},dropdown:function(e){var t=Object(u.b)(E);return r.a.createElement(I,{fieldPath:e.fieldPath,def:e.definition},r.a.createElement("select",{className:"form-control custom-select",id:e.definition.fieldId,value:t.getValue(e.fieldPath)||"",onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)},"aria-describedby":e.definition.fieldId+"_description"},r.a.createElement("option",{value:"",disabled:e.definition.validation&&e.definition.validation.required}),e.definition.attributes.options.map(function(e){return r.a.createElement("option",{value:e,key:e},e)})))},textInput:function(e){var t=Object(u.b)(E);return r.a.createElement(I,{fieldPath:e.fieldPath,def:e.definition},r.a.createElement("input",{type:"text",className:"form-control",id:e.definition.fieldId,"aria-describedby":e.fieldPath+"_description",value:t.getValue(e.fieldPath)||"",onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)}}))},heading:function(e){return r.a.createElement("h"+e.definition.attributes.level,null,e.definition.attributes.text)},paragraph:function(e){return r.a.createElement("p",null,e.definition.attributes.text)},buttonGroup:function(e){var t=Object(u.b)(E),n=t.getValue(e.fieldPath),i=Object(a.useState)(null),l=Object(f.a)(i,2),c=l[0],o=l[1];return r.a.createElement(I,{fieldPath:e.fieldPath,def:e.definition},r.a.createElement("div",{className:"btn-group-wrapper"},r.a.createElement("div",{className:"btn-group btn-group-toggle"},e.definition.attributes.options.map(function(a,i){return r.a.createElement("label",{className:"btn btn-outline-secondary"+(n===a?" active":"")+(c===i?" focus":""),key:e.fieldPath+"_OPTION_"+a,onFocus:function(){return o(i)},onBlur:function(){return o(null)}},r.a.createElement("input",{type:"radio",value:a,checked:a===n,onChange:function(n){return t.setValue(e.fieldPath,n.currentTarget.value)}}),a)}))))}},R={list:function(e){var t=Object(u.b)(E);return r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"h4 align-middle mr-2"},e.definition.attributes.label),e.definition.attributes.description&&r.a.createElement(d,{fieldPath:e.fieldPath,text:e.definition.attributes.description}),Object(o.times)(t.getCollectionSize(e.fieldPath),function(n){return r.a.createElement("div",{className:"card border-bottom mb-3"+(0===n?" mt-2":""),key:e.fieldPath+"_COLLECTION_"+n},r.a.createElement("h5",{className:"card-header"},function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(n+1)," ",e.definition.attributes.itemLabel,r.a.createElement("button",{className:"close text-dark",onClick:function(){return t.deleteFromCollection(e.fieldPath,n)}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"card-body pb-0"},e.definition.children&&r.a.createElement(z,{childFormElements:e.definition.children,parentFieldPath:e.fieldPath+"["+n+"]"})))}),r.a.createElement("button",{className:"btn btn-secondary d-inline",onClick:function(){return t.addToCollection(e.fieldPath)}},"Add"))}},q=Object.assign(M,R);var z=function(e){return r.a.createElement("div",null,e.childFormElements.map(function(t,n){var a=function(e){var t=q[e];return t||(console.warn("Could not find form element type:"+e),function(){return r.a.createElement("div",null,"Could not find form element type ",e,".")})}(t.type);return r.a.createElement(a,{definition:t,parentFieldPath:e.parentFieldPath,fieldPath:c(e.parentFieldPath,t.fieldId),key:e.parentFieldPath+"_"+n})}))},B=function(e){return r.a.createElement("div",{className:"p-2 container"},r.a.createElement(E.Provider,null,r.a.createElement(V.Provider,null,r.a.createElement(z,{childFormElements:e.formDef.elements,parentFieldPath:""}))))};n(86);fetch("exampleFormDefinition.json").then(function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}).then(function(e){l.a.render(r.a.createElement(B,{formDef:e}),document.getElementById("form"))})}},[[33,1,2]]]);
//# sourceMappingURL=main.1cf4f591.chunk.js.map