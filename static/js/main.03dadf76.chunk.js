(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(e,t,n){e.exports=n(94)},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n.n(a),i=n(0),l=n.n(i),c=n(59),o=n.n(c),u=n(12),s=n.n(u),d=n(28),f=n.n(d),m=n(29),h=n.n(m),b=n(30),v=n.n(b),p=n(31),E=n.n(p),g=n(32),C=n.n(g),N={required:{validate:function(e){return!(null==e||e.length<=0||""===e)},defaultMessage:"This field is required"},email:{validate:function(e){return E()(e)},defaultMessage:"This field must be an email address"},alpha:{validate:function(e){return f()(e)},defaultMessage:"This field must be only letters"},numeric:{validate:function(e){return C()(e)},defaultMessage:"This field must be only numbers"},alphanumeric:{validate:function(e){return h()(e)},defaultMessage:"This field must be only letters and numbers"},currency:{validate:function(e){return v()(e)},defaultMessage:"This field must be a currency amount"}},x=n(40);function k(e){var t=l.a.createContext(null);return{Provider:function(n){var a=e(n.initialState);return l.a.createElement(t.Provider,{value:a},n.children)},useContainer:function(){var e=l.a.useContext(t);if(null===e)throw new Error("Component must be wrapped with <Container.Provider>");return e}}}function w(e){return e.useContainer()}var O={showErrors:"onFocus",showErrorsDelay:500,disableNextWhenErrors:!1},j=k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{config:Object(x.a)({},O,e)}}),y=n(42),P=n(3),S=n(7),I=n(19),D=n(41),T=k(function(){var e=Object(i.useState)({}),t=Object(P.a)(e,2),n=t[0],a=t[1],r=function(e,t){var r=Object(S.a)(n,function(n){var a=n[e]||{};a[t]||(a[t]=Date.now()),n[e]=a});a(r)};return{fieldStates:n,get:function(e){return n[e]||{}},focus:function(e){return r(e,"focus")},valueChanged:function(e){return r(e,"valueChanged")},blur:function(e){return r(e,"blur")}}}),F=k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w(T),n=Object(i.useState)(e),a=Object(P.a)(n,2),r=a[0],l=a[1];return{formValues:r,setValue:function(e,n){var a=Object(S.a)(r,function(t){Object(D.a)(t,e,n)});l(a),t.valueChanged(e),console.log("formValues:",JSON.stringify(a,null,2))},getValue:function(e){return Object(I.a)(r,e)},addToCollection:function(e){var t=Object(S.a)(r,function(t){var n=Object(I.a)(t,e,[]),a=[].concat(Object(y.a)(n),[{}]);Object(D.a)(t,e,a)});l(t)},deleteFromCollection:function(e,t){var n=Object(S.a)(r,function(n){var a=Object(I.a)(n,e),r=[].concat(Object(y.a)(a.slice(0,t)),Object(y.a)(a.slice(t+1)));Object(D.a)(n,e,r)});l(n)},getCollectionSize:function(e){var t=Object(I.a)(r,e);return t?t.length:0}}});s.a.addTransform("toUpperCase",function(e){return e.toUpperCase()}),s.a.addTransform("toLowerCase",function(e){return e.toLowerCase()}),s.a.addTransform("isAlpha",function(e){return e&&f()(e)}),s.a.addTransform("isAlphanumeric",function(e){return e&&h()(e)}),s.a.addTransform("isCurrency",function(e){return e&&v()(e)}),s.a.addTransform("isEmail",function(e){return e&&E()(e)}),s.a.addTransform("isNumeric",function(e){return e&&C()(e)}),s.a.addBinaryOp("_=",20,function(e,t){return e.toLowerCase()===t.toLowerCase()});var V=k(function(){var e=w(j),t=w(F),n=function(n,a,r){var i=t.getValue(n),l={formValues:t.formValues,fieldValue:i,value:i,config:e.config,fieldDef:a};return s.a.evalSync(r,l)},a={validIf:{validate:function(e,t,a){return n(e,t,a)},defaultMessage:"This field is invalid"},invalidIf:{validate:function(e,t,a){return!n(e,t,a)},defaultMessage:"This field is invalid"},requiredIf:{validate:function(e,a,r){return!n(e,a,r)||N.required.validate(t.getValue(e))},defaultMessage:N.required.defaultMessage}};return{evaluate:n,expressionValidations:a}}),M=k(function(){var e=w(V);return{shouldShow:function(t,n){return!n.showIf||n.showIf.some(function(a){return e.evaluate(t,n,a)})}}}),_=function(e,t){return t?""!==e?e+"."+t:t:e},L=n(96),B=function(e){return l.a.createElement("div",{id:e.path+"_description",className:"pt-2 text-muted description"},e.text)};var A=k(function(){var e=Object(i.useState)({}),t=Object(P.a)(e,2),n=t[0],a=t[1];return{formState:n,nextClicked:function(){var e=Object(S.a)(n,function(e){e.nextClicked||(e.nextClicked=Date.now())});a(e)},clearNextClicked:function(){var e=Object(S.a)(n,function(e){e.nextClicked=void 0});a(e)},submitClicked:function(){var e=Object(S.a)(n,function(e){e.submitClicked||(e.submitClicked=Date.now())});a(e)},nextOrSubmit:function(){return!!n.nextClicked||!!n.submitClicked}}}),q=k(function(){var e=w(j),t=w(F),n=w(T),a=w(A),r=w(V),l=w(M),c=Object(i.useState)(0),o=Object(P.a)(c,2),u=o[0],s=o[1];Object(i.useEffect)(function(){u>Date.now()&&setTimeout(function(){return s(0)},u-Date.now())},[u]);var d=e.config,f=function(e,n){return!n.validation||n.validation.length<=0?null:n.validation.reduce(function(a,i){return null!=a?a:function(e,n,a){if("string"===typeof e){var i=t.getValue(n)||"",l=N[e];return l.validate(i)?null:l.defaultMessage}if(function(e){return void 0!==e.expression}(e)){var c=r.expressionValidations[e.name];return c.validate(n,a,e.expression)?null:e.message||c.defaultMessage}var o=t.getValue(n)||"",u=N[e.name];return u.validate(o)?null:e.message||u.defaultMessage}(i,e,n)},null)};var m=function(e,t){if(a.nextOrSubmit()||"immediately"===d.showErrors)return!0;var r=n.get(e);return"onFocus"===d.showErrors&&r.focus?h(r.focus):"onValueChanged"===d.showErrors&&r.valueChanged?h(r.valueChanged):!("onBlur"!==d.showErrors||!r.blur)&&h(r.blur)},h=function(e){return!d.showErrorsDelay||0===d.showErrorsDelay||(e+d.showErrorsDelay<Date.now()||(s(e+d.showErrorsDelay),!1))};return{validate:f,shouldShowErrors:m,validateAndShouldShow:function(e,t){return m(e,t)?f(e,t):null},hasErrorsRecursively:function e(n,a){return!(!a||!l.shouldShow(n,a))&&(null!=f(n,a)||!!a.children&&a.children.some(function(a){var r,i=_(n,a.fieldId);if(!l.shouldShow(i,a))return!1;if(r=a.type,Q.hasOwnProperty(r)){for(var c=t.getCollectionSize(i),o=0;o<c;o++)if(e(i+"["+o+"]",a))return!0;return!1}return e(i,a)}))}}}),U=function(e){return l.a.createElement("label",{htmlFor:e.htmlFor,className:"mr-2 h5 "+(e.error?"text-danger":"")},e.text)},R=function(e){var t=w(q).validateAndShouldShow(e.path,e.def);return l.a.createElement("div",{className:"form-group pt-2"},e.def.attributes.label&&l.a.createElement(U,{htmlFor:e.path,text:e.def.attributes.label,error:!!t}),e.children,t&&l.a.createElement("div",{className:"error-message text-danger pt-2"},t),e.def.attributes.description&&l.a.createElement(B,{path:e.path,text:e.def.attributes.description}))},z=k(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(e.inline||{}),n=Object(P.a)(t,2),a=n[0],l=n[1];Object(i.useEffect)(function(){e.http.forEach(function(e){r()(e).then(function(t){c(e.name,t.data)})})},[e]);var c=function(e,t){l(Object(S.a)(a,function(n){n[e]=t}))};return{referenceData:a,set:c}}),G=n(38),J=n.n(G),W=n(95),H=k(function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=w(j),t=w(q),n=w(A),a=w(M),r=Object(i.useState)(""),l=Object(P.a)(r,2),c=l[0],o=l[1],u=Object(i.useState)([]),s=Object(P.a)(u,2),d=s[0],f=s[1],m=Object(i.useState)(-1),h=Object(P.a)(m,2),b=h[0],v=h[1],p=d.findIndex(function(e){return a.shouldShow(c,e)}),E=Object(W.a)(d,function(e){return a.shouldShow(c,e)}),g=b===p,C=b===E,N=function(){return t.hasErrorsRecursively(c,d[b])},x=e.config.disableNextWhenErrors&&N();return{setUp:function(e,t){o(e),f(t),b<0&&v(t.findIndex(function(t){return a.shouldShow(e,t)}))},currentPageIndex:b,setCurrentPageIndex:v,currentIsFirst:g,currentIsLast:C,currentPageHasErrors:N,disableNext:x,previousClicked:function(){for(var e=b-1;e>=0;e--){var t=d[e];if(t&&a.shouldShow(c,t)){n.clearNextClicked(),v(e);break}}},nextClicked:function(){if(N())n.nextClicked();else for(var e=b+1;e<d.length;e++){var t=d[e];if(t&&a.shouldShow(c,t)){n.clearNextClicked(),v(e);break}}},submitClicked:function(){N()?n.submitClicked():console.log("Submit")}}}),K={accordion:function(e){var t=w(M),n=w(H),a=Object(i.useRef)(null);if(Object(i.useEffect)(function(){e.definition.children&&n.setUp(e.path,e.definition.children)},[e.definition.children,e.path,n]),!e.definition.children)return null;var r=function(){a&&a.current&&window.scroll({top:a.current.getBoundingClientRect().top-100})},c=function(e){n.setCurrentPageIndex(e),r()},o=function(){n.previousClicked(),r()},u=function(){n.nextClicked(),r()};return l.a.createElement("div",{className:"accordion",role:"tablist","aria-multiselectable":"true"},e.definition.children.map(function(r,i){return t.shouldShow(e.path,r)&&l.a.createElement("div",{className:"card",key:e.path+"_PAGE_"+i},n.currentPageIndex===i&&l.a.createElement("div",{ref:a}),l.a.createElement("div",{className:"card-header cursor-pointer",onClick:function(){return c(i)}},l.a.createElement("h3",{className:"d-inline"},r.attributes.label),i<n.currentPageIndex&&l.a.createElement("button",{className:"link-button text-muted px-1",onClick:function(){return c(i)}},l.a.createElement("u",null,"edit"))),n.currentPageIndex===i&&l.a.createElement("div",{className:"card-body m-1"},r.children&&l.a.createElement(Y,{childFormElements:r.children,parentPath:e.parentPath}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"Page navigation"},l.a.createElement("ul",{className:"pagination mb-0"},!n.currentIsFirst&&l.a.createElement("li",{className:"page-item"},l.a.createElement("button",{className:"page-link",onClick:o},"Previous")),!n.currentIsLast&&l.a.createElement("li",{className:J()("page-item",{disabled:n.disableNext})},l.a.createElement("button",{className:"page-link",onClick:u,disabled:n.disableNext},"Next"))))),n.currentIsLast&&l.a.createElement("div",{className:"col"},l.a.createElement("button",{className:"btn btn-primary float-right",onClick:n.submitClicked},"Submit")))))}))},dropdown:function(e){var t=w(z),n=w(F),a=w(T),r=e.definition.attributes.options||[];return e.definition.attributes.referenceDataOptions&&(r=r.concat(t.referenceData[e.definition.attributes.referenceDataOptions])),l.a.createElement(R,{path:e.path,def:e.definition},l.a.createElement("select",{className:"form-control custom-select",id:e.definition.fieldId,value:n.getValue(e.path)||"",onChange:function(t){return n.setValue(e.path,t.currentTarget.value)},"aria-describedby":e.definition.fieldId+"_description",onFocus:function(){return a.focus(e.path)},onBlur:function(){return a.blur(e.path)}},l.a.createElement("option",{value:""}),r.map(function(e){var t="object"===typeof e?e.label:e,n="object"===typeof e?e.value:e;return l.a.createElement("option",{value:n,key:n||(Math.random()+1).toString(36).substring(2)},t)})))},textInput:function(e){var t=w(F),n=w(T);return l.a.createElement(R,{path:e.path,def:e.definition},l.a.createElement("input",{type:"text",className:"form-control",id:e.definition.fieldId,"aria-describedby":e.path+"_description",value:t.getValue(e.path)||"",onChange:function(n){return t.setValue(e.path,n.currentTarget.value)},onFocus:function(){return n.focus(e.path)},onBlur:function(){return n.blur(e.path)}}))},heading:function(e){return l.a.createElement("h"+e.definition.attributes.level,null,e.definition.attributes.text)},paragraph:function(e){return l.a.createElement("p",null,e.definition.attributes.text)},buttonGroup:function(e){var t=w(F),n=w(T),a=t.getValue(e.path),r=Object(i.useState)(null),c=Object(P.a)(r,2),o=c[0],u=c[1];return l.a.createElement(R,{path:e.path,def:e.definition},l.a.createElement("div",{className:"btn-group-wrapper",onFocus:function(){return n.focus(e.path)},onBlur:function(){return n.blur(e.path)}},l.a.createElement("div",{className:"btn-group btn-group-toggle"},e.definition.attributes.options.map(function(n,r){return l.a.createElement("label",{className:"btn btn-outline-primary"+(a===n?" active":"")+(o===r?" focus":""),key:e.path+"_OPTION_"+n,onFocus:function(){return u(r)},onBlur:function(){return u(null)}},l.a.createElement("input",{type:"radio",value:n,checked:n===a,onChange:function(n){return t.setValue(e.path,n.currentTarget.value)}}),n)}))))},tabs:function(e){var t=w(M),n=w(H);return Object(i.useEffect)(function(){e.definition.children&&n.setUp(e.path,e.definition.children)},[]),e.definition.children?n.currentPageIndex<0?null:l.a.createElement("div",{className:"card rounded-0"},l.a.createElement("div",{className:"card-header"},l.a.createElement("ul",{className:"nav "+(e.definition.attributes.pill?"nav-pills card-header-pills":"nav-tabs card-header-tabs")},e.definition.children.map(function(a,r){if(!t.shouldShow(e.path,a))return null;var i=e.path+"_PAGE_"+r;return r<n.currentPageIndex?l.a.createElement("li",{className:"nav-item",key:i},l.a.createElement("a",{className:"nav-link",href:"javascript:void(0)",onClick:function(){return n.setCurrentPageIndex(r)}},a.attributes.label)):r===n.currentPageIndex?l.a.createElement("li",{className:"nav-item",key:i},l.a.createElement("button",{className:"nav-link active"},a.attributes.label)):r>n.currentPageIndex?l.a.createElement("li",{className:"nav-item",key:i},l.a.createElement("button",{className:"nav-link disabled",tabIndex:-1,"aria-disabled":"true"},a.attributes.label)):null}))),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"container"},l.a.createElement(Y,{childFormElements:e.definition.children[n.currentPageIndex].children,parentPath:e.parentPath}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("nav",{"aria-label":"Page navigation"},l.a.createElement("ul",{className:"pagination mb-0"},!n.currentIsFirst&&l.a.createElement("li",{className:"page-item"},l.a.createElement("button",{className:"page-link",onClick:n.previousClicked},"Previous")),!n.currentIsLast&&l.a.createElement("li",{className:J()("page-item",{disabled:n.disableNext})},l.a.createElement("button",{className:"page-link",onClick:n.nextClicked,disabled:n.disableNext},"Next"))))),n.currentIsLast&&l.a.createElement("div",{className:"col"},l.a.createElement("button",{className:"btn btn-primary float-right",onClick:n.submitClicked},"Submit")))))):null}},Q={list:function(e){var t=w(F);return l.a.createElement("div",{className:"form-group"},l.a.createElement("span",{className:"h4 align-middle mr-2"},e.definition.attributes.label),e.definition.attributes.description&&l.a.createElement(B,{path:e.path,text:e.definition.attributes.description}),Object(L.a)(t.getCollectionSize(e.path),function(n){return l.a.createElement("div",{className:"card border-bottom mb-3"+(0===n?" mt-2":""),key:e.path+"_COLLECTION_"+n},l.a.createElement("h5",{className:"card-header"},function(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}(n+1)," ",e.definition.attributes.itemLabel,l.a.createElement("button",{className:"close text-dark",onClick:function(){return t.deleteFromCollection(e.path,n)}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"card-body pb-0"},e.definition.children&&l.a.createElement(Y,{childFormElements:e.definition.children,parentPath:e.path+"["+n+"]"})))}),l.a.createElement("button",{className:"btn btn-primary d-inline",onClick:function(){return t.addToCollection(e.path)}},"Add"))}},X=Object(x.a)({},K,Q);var Y=function(e){var t=w(M);return l.a.createElement("div",null,e.childFormElements.map(function(n,a){var r=_(e.parentPath,n.fieldId);if(!t.shouldShow(r,n))return null;var i=function(e){var t=X[e];return t||(console.warn("Could not find form element type:"+e),function(){return l.a.createElement("div",null,"Could not find form element type ",e,".")})}(n.type);return l.a.createElement(i,{definition:n,parentPath:e.parentPath,path:r,key:e.parentPath+"_"+a})}))},Z=function(e){return l.a.createElement("div",{className:""},l.a.createElement(j.Provider,{initialState:e.formDef.config},l.a.createElement(z.Provider,{initialState:e.formDef.referenceData},l.a.createElement(A.Provider,null,l.a.createElement(T.Provider,null,l.a.createElement(F.Provider,null,l.a.createElement(V.Provider,null,l.a.createElement(M.Provider,null,l.a.createElement(q.Provider,null,l.a.createElement(H.Provider,null,l.a.createElement(Y,{childFormElements:e.formDef.elements,parentPath:""})))))))))))};n(93);r.a.get("api/formDefinitions/exampleFormDefinition.json").then(function(e){o.a.render(l.a.createElement(Z,{formDef:e.data}),document.getElementById("form"))}).catch(function(e){throw console.error(e),new Error(e)})}},[[62,1,2]]]);
//# sourceMappingURL=main.03dadf76.chunk.js.map